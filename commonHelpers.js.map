{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/app.js"],"sourcesContent":["const apiKey = \"live_nQdU30L5Pi3CRefNOxMdqR2hpDOu0bh6jtMVDgUqk1CW9D0NDZmBsQIS8vpnxulw\";\n\nexport const fetchBreeds = async () => {\n  const response = await fetch(\"https://api.thecatapi.com/v1/breeds\", {\n    headers: {\n      \"x-api-key\": apiKey\n    }\n  });\n  if (!response.ok) {\n    throw new Error(\"Error fetching breeds\");\n  }\n  return await response.json();\n};\n\nexport const fetchCatByBreed = async (breedId) => {\n  const response = await fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`, {\n    headers: {\n      \"x-api-key\": apiKey\n    }\n  });\n  if (!response.ok) {\n    throw new Error(\"Error fetching cat by breed\");\n  }\n  return await response.json();\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const breedSelect = document.getElementById('breed-select');\n  const loader = document.querySelector('.loader');\n  const errorElem = document.querySelector('.error');\n  const catInfo = document.querySelector('.cat-info');\n  const catImage = document.getElementById('cat-image');\n  const catName = document.getElementById('cat-name');\n  const catDescription = document.getElementById('cat-description');\n  const catTemperament = document.getElementById('cat-temperament');\n\n  const showLoader = () => {\n    loader.classList.add('show');\n    breedSelect.style.display = 'none';\n  };\n\n  const hideLoader = () => {\n    loader.classList.remove('show');\n  };\n\n  const showError = (message) => {\n    errorElem.textContent = message;\n    errorElem.classList.add('show');\n    iziToast.error({ title: 'Error', message: message });\n  };\n\n  const hideError = () => {\n    errorElem.classList.remove('show');\n  };\n\n  const clearCatInfo = () => {\n    catInfo.style.display = 'none';\n    catImage.src = '';\n    catName.textContent = '';\n    catDescription.textContent = '';\n    catTemperament.textContent = '';\n  };\n\n  const loadBreeds = async () => {\n    showLoader();\n    hideError();\n    try {\n      const breeds = await fetchBreeds();\n      breeds.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.textContent = breed.name;\n        breedSelect.appendChild(option);\n      });\n      new SlimSelect({\n        select: '#breed-select'\n      });\n      breedSelect.style.display = 'block';\n    } catch (error) {\n      showError('Failed to fetch breeds');\n    } finally {\n      hideLoader();\n    }\n  };\n\n  const handleBreedChange = async (e) => {\n    const breedId = e.target.value;\n    if (!breedId) return;\n\n    showLoader();\n    hideError(); \n    try {\n      const catData = await fetchCatByBreed(breedId);\n      if (catData.length === 0) {\n        clearCatInfo(); \n        showError('No cat data found for this breed.');\n      } else {\n        const cat = catData[0];\n        catImage.src = cat.url;\n        catName.textContent = cat.breeds[0].name;\n        catDescription.textContent = cat.breeds[0].description;\n        catTemperament.textContent = cat.breeds[0].temperament;\n        catInfo.style.display = 'block';\n      }\n    } catch (error) {\n      clearCatInfo();\n      showError('Failed to fetch cat information');\n    } finally {\n      breedSelect.style.display = 'block';\n      hideLoader();\n    }\n  };\n\n  breedSelect.addEventListener('change', handleBreedChange);\n\n  await loadBreeds();\n});\n"],"names":["apiKey","fetchBreeds","response","fetchCatByBreed","breedId","breedSelect","loader","errorElem","catInfo","catImage","catName","catDescription","catTemperament","showLoader","hideLoader","showError","message","hideError","clearCatInfo","loadBreeds","breed","option","handleBreedChange","e","catData","cat"],"mappings":"ssBAAA,MAAMA,EAAS,wEAEFC,EAAc,SAAY,CACrC,MAAMC,EAAW,MAAM,MAAM,sCAAuC,CAClE,QAAS,CACP,YAAaF,CACd,CACL,CAAG,EACD,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuB,EAEzC,OAAO,MAAMA,EAAS,MACxB,EAEaC,EAAkB,MAAOC,GAAY,CAChD,MAAMF,EAAW,MAAM,MAAM,wDAAwDE,CAAO,GAAI,CAC9F,QAAS,CACP,YAAaJ,CACd,CACL,CAAG,EACD,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAO,MAAMA,EAAS,MACxB,ECtBA,SAAS,iBAAiB,mBAAoB,SAAY,CACxD,MAAMG,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,QAAQ,EAC3CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAW,SAAS,eAAe,WAAW,EAC9CC,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAiB,SAAS,eAAe,iBAAiB,EAE1DC,EAAa,IAAM,CACvBP,EAAO,UAAU,IAAI,MAAM,EAC3BD,EAAY,MAAM,QAAU,MAChC,EAEQS,EAAa,IAAM,CACvBR,EAAO,UAAU,OAAO,MAAM,CAClC,EAEQS,EAAaC,GAAY,CAC7BT,EAAU,YAAcS,EACxBT,EAAU,UAAU,IAAI,MAAM,EAC9B,SAAS,MAAM,CAAE,MAAO,QAAS,QAASS,CAAO,CAAE,CACvD,EAEQC,EAAY,IAAM,CACtBV,EAAU,UAAU,OAAO,MAAM,CACrC,EAEQW,EAAe,IAAM,CACzBV,EAAQ,MAAM,QAAU,OACxBC,EAAS,IAAM,GACfC,EAAQ,YAAc,GACtBC,EAAe,YAAc,GAC7BC,EAAe,YAAc,EACjC,EAEQO,EAAa,SAAY,CAC7BN,IACAI,IACA,GAAI,EACa,MAAMhB,KACd,QAAQmB,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3Bf,EAAY,YAAYgB,CAAM,CACtC,CAAO,EACD,IAAI,WAAW,CACb,OAAQ,eAChB,CAAO,EACDhB,EAAY,MAAM,QAAU,OAC7B,MAAe,CACdU,EAAU,wBAAwB,CACxC,QAAc,CACRD,GACD,CACL,EAEQQ,EAAoB,MAAOC,GAAM,CACrC,MAAMnB,EAAUmB,EAAE,OAAO,MACzB,GAAKnB,EAEL,CAAAS,IACAI,IACA,GAAI,CACF,MAAMO,EAAU,MAAMrB,EAAgBC,CAAO,EAC7C,GAAIoB,EAAQ,SAAW,EACrBN,IACAH,EAAU,mCAAmC,MACxC,CACL,MAAMU,EAAMD,EAAQ,CAAC,EACrBf,EAAS,IAAMgB,EAAI,IACnBf,EAAQ,YAAce,EAAI,OAAO,CAAC,EAAE,KACpCd,EAAe,YAAcc,EAAI,OAAO,CAAC,EAAE,YAC3Cb,EAAe,YAAca,EAAI,OAAO,CAAC,EAAE,YAC3CjB,EAAQ,MAAM,QAAU,OACzB,CACF,MAAe,CACdU,IACAH,EAAU,iCAAiC,CACjD,QAAc,CACRV,EAAY,MAAM,QAAU,QAC5BS,GACD,EACL,EAEET,EAAY,iBAAiB,SAAUiB,CAAiB,EAExD,MAAMH,EAAU,CAClB,CAAC"}